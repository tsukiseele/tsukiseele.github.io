import{o as a,c,a as l,F as h,r as f,n as k,t as C,_ as d,g as I,b as s,h as g,w as v,i as x,f as $}from"./entry.42142a67.js";import{_ as y}from"./index.b38416e3.js";import{_ as w}from"./client-only.cf862198.js";const b={class:"title-nav-view"},A={class:"title-nav"},N=["onClick"],S={class:"title-nav-text"};function M(e,n,i,u,m,t){return a(),c("div",b,[l("ul",A,[(a(!0),c(h,null,f(i.nav,(o,r)=>(a(),c("li",{class:k(["title-nav-item",[`h${o.level}`,t.isActive(r)]]),key:o.id,onClick:_=>t.onNavItemClick(o)},[l("span",S,C(o.title),1)],10,N))),128))])])}const L={props:{nav:{type:Array,default:()=>[]},activeIndex:{type:Number,default:null}},data:()=>({}),methods:{onNavItemClick(e){if(e&&e.id){const n=document.getElementById(e.id);n&&this.$emit("itemClick",{target:n,item:e})}},isActive(e){return this.activeIndex==e?"active":""}},mounted(){}},V=d(L,[["render",M],["__scopeId","data-v-5e76e6bb"]]),B={class:"comment card"};function H(e,n,i,u,m,t){const o=I("Vssue");return a(),c("div",B,[s(o,{title:i.title},null,8,["title"])])}const T={props:{title:{type:String,default:""}}},E=d(T,[["render",H],["__scopeId","data-v-20ccaed7"]]),F={id:"content"},q={class:"article"},z={key:0,class:"aside card"},D={class:"markdown card"};function O(e,n,i,u,m,t){const o=V,r=y,_=w,p=E;return a(),c("div",F,[l("div",q,[!t.isMobile&&e.titles&&e.titles.length?(a(),c("div",z,[s(o,{nav:e.titles,activeIndex:e.titlesActiveIndex,onItemClick:t.onNavItemClick},null,8,["nav","activeIndex","onItemClick"])])):g("",!0),l("div",D,[s(_,null,{default:v(()=>[s(r,{title:t.current.title,content:t.current.markdown,offset:t.navHeight,onActiveChange:t.onMarkdownScroll,onImageClick:t.onImageClick,onLoaded:t.onMarkdownLoaded},null,8,["title","content","offset","onActiveChange","onImageClick","onLoaded"])]),_:1})])]),s(_,null,{default:v(()=>[s(p,{title:this.$route.path},null,8,["title"])]),_:1})])}const R={data:()=>({titlesActiveIndex:null,titles:null}),computed:{archive(){return this.$store.archive},isMobile(){return this.$store.isMobile},current(){return this.archive.currentItem},navHeight(){{const e=document.querySelector("#nav");if(e)return e.clientHeight}return 0}},methods:{onMarkdownLoaded({html:e,titles:n}){this.titles=n},onMarkdownScroll({index:e,item:n}){this.titlesActiveIndex=e},onImageClick(e){},onNavItemClick({target:e,item:n}){window.scrollTo({top:e.offsetTop-this.navHeight,behavior:"smooth"})}},mounted(){},setup(){const e=$(),n=x();e.$store.getArchive({...n.params})}},K=d(R,[["render",O],["__scopeId","data-v-4f0f7d56"]]);export{K as default};
