(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{400:function(e,t,n){e.exports={}},408:function(e,t,n){"use strict";n(409)},409:function(e,t,n){"use strict";var r=n(2),l=n(9),o=n(49),c=n(79),h=n(121),m=n(156);r({target:"Promise",stat:!0,forced:n(157)},{allSettled:function(e){var t=this,n=c.f(t),r=n.resolve,f=n.reject,d=h((function(){var n=o(t.resolve),c=[],h=0,f=1;m(e,(function(e){var o=h++,m=!1;f++,l(n,t,e).then((function(e){m||(m=!0,c[o]={status:"fulfilled",value:e},--f||r(c))}),(function(e){m||(m=!0,c[o]={status:"rejected",reason:e},--f||r(c))}))})),--f||r(c)}));return d.error&&f(d.value),n.promise}})},410:function(e,t,n){"use strict";n(400)},430:function(e,t,n){"use strict";n.r(t);var r=n(5),l=(n(54),n(155),n(10),n(31),n(408),n(42),n(43),n(44),n(94),{props:{items:{type:Array,default:function(){return[]}},imageKey:{type:String,default:null},itemWidth:{type:Number,default:250},gap:{type:Number,default:20},evenly:{type:Boolean,default:!1},maxColumn:{type:Number,default:null},height:{type:Number|String,default:null}},data:function(){return{column:null,resizeObserver:null,resizeTimer:null}},watch:{items:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$emit("load"),t.next=3,e.getImageSize();case 3:e.fall(),e.$emit("loaded");case 5:case"end":return t.stop()}}),t)})))()}},methods:{responsive:function(){this.$el&&this.fall()},fall:function(){var e=this,t=this.$el.offsetWidth;this.column=Math.floor((t-this.gap)/(this.itemWidth+this.gap)),this.column=this.maxColumn&&this.column>this.maxColumn?this.maxColumn:this.column||1;var n,r,l=this.evenly?(t-this.itemWidth*this.column)/(this.column+1):this.gap,o=this.evenly?l:(t-(this.itemWidth+l)*this.column+l)/2,c=this.$el.querySelectorAll(".list-item"),h=[];c.forEach((function(t,i){t.style.width=e.itemWidth+"px",t.style.height=e.items[i]._height;var c=t.offsetHeight;if(i<e.column)n=(e.itemWidth+l)*i+o,r=0,h.push(c);else{var m=Math.min.apply(Math,h),f=h.indexOf(m);n=(e.itemWidth+l)*f+o,r=m+l,h[f]=m+l+c}t.style.left=n+"px",t.style.top=r+"px"})),this.$el.style.height=this.height?this.height:Math.max.apply(Math,h)+"px"},getImageSize:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e.items.map((function(t){return new Promise((function(n){var img=new Image;img.src=e.imageKey?t[e.imageKey]:t.src,img.onload=img.onerror=function(e){img.width>0&&img.height>0&&(t._height=img.height),n({width:img.width,height:img.height})}}))})));case 2:case"end":return t.stop()}}),t)})))()},listenLayoutChanged:function(){var e=this;this.resizeObserver=new ResizeObserver((function(t){t&&t.length&&(e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout((function(){e.responsive(),clearTimeout(e.resizeTimer),e.resizeTimer=null}),500))})),this.resizeObserver.observe(this.$el)}},mounted:function(){var e=this;this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getImageSize();case 2:e.fall();case 3:case"end":return t.stop()}}),t)})))),this.listenLayoutChanged()},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.disconnect()}}),o=(n(410),n(16)),component=Object(o.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"simple-waterfall"},[e._t("header"),t("div",{staticClass:"list"},e._l(e.items,(function(n,r){return t("div",{key:r,staticClass:"list-item",on:{click:function(t){return e.$emit("click",n)}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageKey?n[e.imageKey]:n.src,expression:"imageKey ? item[imageKey] : item.src"}],staticClass:"list-item--image"}),e._t("default",null,{index:r,item:n})],2)})),0),e._t("footer")],2)}),[],!1,null,"26e8b3df",null);t.default=component.exports}}]);