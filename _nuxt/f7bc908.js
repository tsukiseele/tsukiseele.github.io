(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{345:function(e,t,n){},353:function(e,t,n){n(354)},354:function(e,t,n){"use strict";var r=n(3),l=n(76),o=n(136),h=n(231),c=n(230);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,m=n.reject,f=h((function(){var n=l(t.resolve),o=[],h=0,m=1;c(e,(function(e){var l=h++,c=!1;o.push(void 0),m++,n.call(t,e).then((function(e){c||(c=!0,o[l]={status:"fulfilled",value:e},--m||r(o))}),(function(e){c||(c=!0,o[l]={status:"rejected",reason:e},--m||r(o))}))})),--m||r(o)}));return f.error&&m(f.value),n.promise}})},355:function(e,t,n){"use strict";n(345)},375:function(e,t,n){"use strict";n.r(t);var r=n(2),l=(n(49),n(229),n(7),n(25),n(353),n(36),n(37),n(38),n(75),{props:{items:{type:Array,default:function(){return[]}},imageKey:{type:String,default:null},itemWidth:{type:Number,default:250},gap:{type:Number,default:20},evenly:{type:Boolean,default:!1},maxColumn:{type:Number,default:null},height:{type:Number|String,default:null}},data:function(){return{column:null,resizeObserver:null,resizeTimer:null}},watch:{items:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$emit("load"),t.next=3,e.getImageSize();case 3:e.fall(),e.$emit("loaded");case 5:case"end":return t.stop()}}),t)})))()}},methods:{responsive:function(){this.$el&&this.fall()},fall:function(){var e=this,t=this.$el.offsetWidth;this.column=Math.floor((t-this.gap)/(this.itemWidth+this.gap)),this.column=this.maxColumn&&this.column>this.maxColumn?this.maxColumn:this.column||1;var n,r,l=this.evenly?(t-this.itemWidth*this.column)/(this.column+1):this.gap,o=this.evenly?l:(t-(this.itemWidth+l)*this.column+l)/2,h=this.$el.querySelectorAll(".list-item"),c=[];h.forEach((function(t,i){t.style.width=e.itemWidth+"px",t.style.height=e.items[i]._height;var h=t.offsetHeight;if(i<e.column)n=(e.itemWidth+l)*i+o,r=0,c.push(h);else{var m=Math.min.apply(Math,c),f=c.indexOf(m);n=(e.itemWidth+l)*f+o,r=m+l,c[f]=m+l+h}t.style.left=n+"px",t.style.top=r+"px"})),this.$el.style.height=this.height?this.height:Math.max.apply(Math,c)+"px"},getImageSize:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e.items.map((function(t){return new Promise((function(n){var img=new Image;img.src=e.imageKey?t[e.imageKey]:t.src,img.onload=img.onerror=function(e){img.width>0&&img.height>0&&(t._height=img.height),n({width:img.width,height:img.height})}}))})));case 2:case"end":return t.stop()}}),t)})))()},listenLayoutChanged:function(){var e=this;this.resizeObserver=new ResizeObserver((function(t){t&&t.length&&(e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout((function(){e.responsive(),clearTimeout(e.resizeTimer),e.resizeTimer=null}),500))})),this.resizeObserver.observe(this.$el)}},mounted:function(){var e=this;this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getImageSize();case 2:e.fall();case 3:case"end":return t.stop()}}),t)})))),this.listenLayoutChanged()},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.disconnect()}}),o=(n(355),n(11)),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"simple-waterfall"},[e._t("header"),n("div",{staticClass:"list"},e._l(e.items,(function(t,r){return n("div",{key:r,staticClass:"list-item",on:{click:function(n){return e.$emit("click",t)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageKey?t[e.imageKey]:t.src,expression:"imageKey ? item[imageKey] : item.src"}],staticClass:"list-item--image"}),e._t("default",null,{index:r,item:t})],2)})),0),e._t("footer")],2)}),[],!1,null,"26e8b3df",null);t.default=component.exports}}]);